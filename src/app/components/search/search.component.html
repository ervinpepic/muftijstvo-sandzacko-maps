<div class="input-group m-1">
  <input
    class="form-control mt-sm-0 mt-2"
    type="search"
    name="searchQuery"
    aria-label="Search"
    placeholder="Naziv vakufa | broj parcele"
    autocomplete="off"
    [(ngModel)]="searchQuery"
    (input)="filterMarkers(); handleSearchInputChange(searchQuery)"
    (keydown)="navigateWithArrowKeys($event)"
  />
  <span class="input-group-append">
    <span class="input-group-text" *ngIf="searchQuery.length === 0">
      <i
        [ngClass]="{
          'fas-sharp fa-solid fa-magnifying-glass-location fa-lg mt-sm-0 mt-2':
            searchQuery.length === 0
        }"
        style="color: #27a27a"
      >
      </i>
    </span>
  </span>
  <div
    *ngIf="isSuggestionsVisible"
    role="listbox"
    aria-live="assertive"
    aria-atomic="true"
  >
    <div
      *ngIf="suggestionsList.length === 0"
      class="list-group search-suggestions"
    >
      <span class="list-group-item hover-effect"
        >Nema vakufa za unijeti naziv | parcelu</span
      >
    </div>
    <cdk-virtual-scroll-viewport
      class="list-group search-suggestions"
      itemSize="50"
    >
      <div
        *cdkVirtualFor="let suggestion of suggestionsList; let i = index"
        class="list-group-item hover-effect"
        role="option"
        aria-labelledby="suggestions-label"
        tabindex="{{ i === selectedSuggestionIndex ? 0 : -1 }}"
        (click)="selectSearchSuggestion(suggestion)"
        (keydown)="navigateWithArrowKeys($event, i)"
      >
        <span
          [innerHTML]="
            suggestion | highlightSearchTerm : searchQuery || 'Ucitavanje'
          "
        ></span>
      </div>
    </cdk-virtual-scroll-viewport>
  </div>
</div>
